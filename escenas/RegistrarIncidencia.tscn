[gd_scene format=3 uid="uid://0hblj686hil8"]

[ext_resource type="Script" uid="uid://2vo2bi20076s" path="res://scripts/RegistrarIncidencia.gd" id="1_incidencia"]

[sub_resource type="Theme" id="Theme_incidencia"]
default_base_scale = 1.7

[node name="RegistrarIncidencia" type="Control" unique_id=1213572991]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_incidencia")

[node name="Fondo" type="ColorRect" parent="." unique_id=502633751]
layout_mode = 0
anchor_right = 1.0
anchor_bottom = 1.0
color = Color(0.95, 0.95, 0.96, 1)

[node name="Header" type="Panel" parent="." unique_id=156269603]
layout_mode = 1
anchors_preset = -1
anchor_right = 1.0
anchor_bottom = 0.1
offset_bottom = 80.0
theme = SubResource("Theme_incidencia")

[node name="HeaderHBox" type="HBoxContainer" parent="Header" unique_id=252189903]
layout_mode = 0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 20.0
offset_top = 10.0
offset_right = -20.0
offset_bottom = -10.0

[node name="Titulo" type="Label" parent="Header/HeaderHBox" unique_id=1494569501]
layout_mode = 2
size_flags_horizontal = 3
theme_type_variation = &"HeaderLabel"
text = "Registrar Incidencia"

[node name="Spacer" type="Control" parent="Header/HeaderHBox" unique_id=7776059]
layout_mode = 2
size_flags_horizontal = 3

[node name="BtnCerrar" type="Button" parent="Header/HeaderHBox" unique_id=1984337886]
layout_mode = 2
tooltip_text = "Cerrar ventana"
text = "Cerrar"

[node name="ContentContainer" type="ScrollContainer" parent="." unique_id=1824089098]
layout_mode = 1
anchors_preset = -1
anchor_top = 0.1
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 20.0
offset_top = 80.0
offset_right = -20.0
offset_bottom = -20.0

[node name="FormContainer" type="VBoxContainer" parent="ContentContainer" unique_id=1141392011]
custom_minimum_size = Vector2(600, 800)
layout_mode = 2
size_flags_horizontal = 3

[node name="SeccionCliente" type="VBoxContainer" parent="ContentContainer/FormContainer" unique_id=24589742]
layout_mode = 2
size_flags_horizontal = 3

[node name="LabelCliente" type="Label" parent="ContentContainer/FormContainer/SeccionCliente" unique_id=1816441914]
layout_mode = 2
theme_type_variation = &"SubHeaderLabel"
text = "Datos del Cliente"

[node name="ClienteHBox" type="HBoxContainer" parent="ContentContainer/FormContainer/SeccionCliente" unique_id=154627022]
layout_mode = 2
size_flags_horizontal = 3

[node name="InputCliente" type="LineEdit" parent="ContentContainer/FormContainer/SeccionCliente/ClienteHBox" unique_id=1404034963]
layout_mode = 2
size_flags_horizontal = 3
placeholder_text = "Buscar cliente por nombre o código..."
editable = false

[node name="BtnBuscarCliente" type="Button" parent="ContentContainer/FormContainer/SeccionCliente/ClienteHBox" unique_id=1938572863]
layout_mode = 2
tooltip_text = "Buscar cliente en base de datos Oracle"
text = "Buscar"

[node name="InfoCliente" type="VBoxContainer" parent="ContentContainer/FormContainer/SeccionCliente" unique_id=598253378]
visible = false
layout_mode = 2
size_flags_horizontal = 3

[node name="LabelNombreCliente" type="Label" parent="ContentContainer/FormContainer/SeccionCliente/InfoCliente" unique_id=647233148]
layout_mode = 2
text = "Nombre: [Nombre del cliente]"

[node name="LabelCodigoCliente" type="Label" parent="ContentContainer/FormContainer/SeccionCliente/InfoCliente" unique_id=1126090800]
layout_mode = 2
text = "Código: [Código]"

[node name="LabelContacto" type="Label" parent="ContentContainer/FormContainer/SeccionCliente/InfoCliente" unique_id=342102509]
layout_mode = 2
text = "Contacto: [Email/Teléfono]"

[node name="Separator1" type="HSeparator" parent="ContentContainer/FormContainer" unique_id=793357411]
layout_mode = 2

[node name="SeccionIncidencia" type="VBoxContainer" parent="ContentContainer/FormContainer" unique_id=249045797]
layout_mode = 2
size_flags_horizontal = 3

[node name="LabelIncidencia" type="Label" parent="ContentContainer/FormContainer/SeccionIncidencia" unique_id=570956500]
layout_mode = 2
theme_type_variation = &"SubHeaderLabel"
text = "Datos de la Incidencia"

[node name="GridContainer" type="GridContainer" parent="ContentContainer/FormContainer/SeccionIncidencia" unique_id=1640592252]
layout_mode = 2
size_flags_horizontal = 3
columns = 2

[node name="LabelTitulo" type="Label" parent="ContentContainer/FormContainer/SeccionIncidencia/GridContainer" unique_id=1264999937]
layout_mode = 2
text = "Título*:"

[node name="InputTitulo" type="LineEdit" parent="ContentContainer/FormContainer/SeccionIncidencia/GridContainer" unique_id=1417925798]
layout_mode = 2
placeholder_text = "Título breve de la incidencia"

[node name="LabelTipo" type="Label" parent="ContentContainer/FormContainer/SeccionIncidencia/GridContainer" unique_id=1326708957]
layout_mode = 2
text = "Tipo de Hallazgo*:"

[node name="ComboTipo" type="OptionButton" parent="ContentContainer/FormContainer/SeccionIncidencia/GridContainer" unique_id=1366981958]
layout_mode = 2

[node name="LabelProducto" type="Label" parent="ContentContainer/FormContainer/SeccionIncidencia/GridContainer" unique_id=127937133]
layout_mode = 2
text = "Producto/Servicio*:"

[node name="ComboProducto" type="OptionButton" parent="ContentContainer/FormContainer/SeccionIncidencia/GridContainer" unique_id=1763199263]
layout_mode = 2

[node name="LabelSucursal" type="Label" parent="ContentContainer/FormContainer/SeccionIncidencia/GridContainer" unique_id=785659811]
layout_mode = 2
text = "Sucursal*:"

[node name="ComboSucursal" type="OptionButton" parent="ContentContainer/FormContainer/SeccionIncidencia/GridContainer" unique_id=1390829701]
layout_mode = 2

[node name="LabelFecha" type="Label" parent="ContentContainer/FormContainer/SeccionIncidencia/GridContainer" unique_id=2096646275]
layout_mode = 2
text = "Fecha de Ocurrencia*:"

[node name="InputFecha" type="LineEdit" parent="ContentContainer/FormContainer/SeccionIncidencia/GridContainer" unique_id=219321604]
layout_mode = 2
placeholder_text = "DD/MM/AAAA"
editable = false

[node name="BtnCalendario" type="Button" parent="ContentContainer/FormContainer/SeccionIncidencia/GridContainer" unique_id=2119319384]
layout_mode = 2
text = "Seleccionar"

[node name="LabelGravedad" type="Label" parent="ContentContainer/FormContainer/SeccionIncidencia/GridContainer" unique_id=1976921832]
layout_mode = 2
text = "Nivel de Gravedad*:"

[node name="ComboGravedad" type="OptionButton" parent="ContentContainer/FormContainer/SeccionIncidencia/GridContainer" unique_id=1076313221]
layout_mode = 2

[node name="LabelInvestigacion" type="Label" parent="ContentContainer/FormContainer/SeccionIncidencia/GridContainer" unique_id=246609465]
layout_mode = 2
text = "¿Conlleva investigación?*:"

[node name="ComboInvestigacion" type="OptionButton" parent="ContentContainer/FormContainer/SeccionIncidencia/GridContainer" unique_id=747677286]
layout_mode = 2

[node name="LabelDescripcion" type="Label" parent="ContentContainer/FormContainer/SeccionIncidencia" unique_id=1544071870]
layout_mode = 2
text = "Descripción del Hallazgo*:"

[node name="InputDescripcion" type="TextEdit" parent="ContentContainer/FormContainer/SeccionIncidencia" unique_id=1916219848]
custom_minimum_size = Vector2(0, 150)
layout_mode = 2
size_flags_horizontal = 3
placeholder_text = "Describa en detalle el hallazgo..."

[node name="Separator2" type="HSeparator" parent="ContentContainer/FormContainer" unique_id=1174979481]
layout_mode = 2

[node name="SeccionAcciones" type="HBoxContainer" parent="ContentContainer/FormContainer" unique_id=73964810]
layout_mode = 2
alignment = 1

[node name="BtnCancelar" type="Button" parent="ContentContainer/FormContainer/SeccionAcciones" unique_id=2083777600]
layout_mode = 2
text = "Cancelar"

[node name="BtnRegistrar" type="Button" parent="ContentContainer/FormContainer/SeccionAcciones" unique_id=1417688767]
layout_mode = 2
theme_type_variation = &"PrimaryButton"
disabled = true
text = "Registrar Incidencia"

[node name="DialogoBuscarCliente" type="Window" parent="." unique_id=1786456303]
title = "Buscar Cliente (Oracle DB)"
visible = false
wrap_controls = true
unresizable = true

[node name="BuscarClienteVBox" type="VBoxContainer" parent="DialogoBuscarCliente" unique_id=1254339008]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 20.0
offset_top = 40.0
offset_right = -20.0
offset_bottom = -20.0

[node name="BuscarClienteHBox" type="HBoxContainer" parent="DialogoBuscarCliente/BuscarClienteVBox" unique_id=690820269]
layout_mode = 2
size_flags_horizontal = 3

[node name="InputBuscarCliente" type="LineEdit" parent="DialogoBuscarCliente/BuscarClienteVBox/BuscarClienteHBox" unique_id=1921460438]
layout_mode = 2
size_flags_horizontal = 3
placeholder_text = "Ingrese nombre, código o documento del cliente"

[node name="BtnBuscarClienteDialog" type="Button" parent="DialogoBuscarCliente/BuscarClienteVBox/BuscarClienteHBox" unique_id=389085717]
layout_mode = 2
text = "Buscar en Oracle"

[node name="TablaClientes" type="Tree" parent="DialogoBuscarCliente/BuscarClienteVBox" unique_id=185703960]
layout_mode = 2
size_flags_vertical = 3
columns = 5
column_titles_visible = true
hide_root = true

[node name="BotonesSeleccionCliente" type="HBoxContainer" parent="DialogoBuscarCliente/BuscarClienteVBox" unique_id=83303301]
layout_mode = 2
alignment = 1

[node name="BtnSeleccionarCliente" type="Button" parent="DialogoBuscarCliente/BuscarClienteVBox/BotonesSeleccionCliente" unique_id=92370463]
layout_mode = 2
disabled = true
text = "Seleccionar"

[node name="BtnCancelarCliente" type="Button" parent="DialogoBuscarCliente/BuscarClienteVBox/BotonesSeleccionCliente" unique_id=519369773]
layout_mode = 2
text = "Cancelar"

[node name="DialogoCalendario" type="Window" parent="." unique_id=537251259]
title = "Seleccionar Fecha"
visible = false
wrap_controls = true
unresizable = true

[node name="DatePicker" type="DatePicker" parent="DialogoCalendario" unique_id=145895770]
_import_path = NodePath("")
layout_mode = 2
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 20.0
offset_top = 40.0
offset_right = -20.0
offset_bottom = -60.0

[node name="BotonesFecha" type="HBoxContainer" parent="DialogoCalendario" unique_id=983959509]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -100.0
offset_top = -40.0
offset_right = 100.0
offset_bottom = -10.0

[node name="BtnAceptarFecha" type="Button" parent="DialogoCalendario/BotonesFecha" unique_id=85625163]
layout_mode = 2
text = "Aceptar"

[node name="BtnCancelarFecha" type="Button" parent="DialogoCalendario/BotonesFecha" unique_id=2095908827]
layout_mode = 2
text = "Cancelar"

[node name="PanelCargando" type="Panel" parent="." unique_id=1053657238]
visible = false
layout_mode = 0
anchor_right = 1.0
anchor_bottom = 1.0

[node name="Semi-transparente" type="ColorRect" parent="PanelCargando" unique_id=651944696]
layout_mode = 0
anchor_right = 1.0
anchor_bottom = 1.0
color = Color(0, 0, 0, 0.5)

[node name="MensajeCarga" type="Label" parent="PanelCargando" unique_id=1630962974]
layout_mode = 1
anchors_preset = -1
anchor_right = 1.0
anchor_bottom = 0.5
offset_left = 20.0
offset_top = 10.0
offset_right = -20.0
offset_bottom = 30.0
text = "Conectando con Oracle..."
horizontal_alignment = 1
vertical_alignment = 1

[node name="ProgressBar" type="ProgressBar" parent="PanelCargando" unique_id=236250198]
layout_mode = 1
anchors_preset = -1
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.6
offset_left = 40.0
offset_top = 5.0
offset_right = -40.0
offset_bottom = 25.0

[node name="MensajeExito" type="AcceptDialog" parent="." unique_id=2733230]
title = "Incidencia Registrada"
dialog_text = "La incidencia se ha registrado exitosamente."

[node name="MensajeError" type="AcceptDialog" parent="." unique_id=844725630]
title = "Error"
dialog_text = "Ocurrió un error al registrar la incidencia."

[node name="ValidacionCampos" type="AcceptDialog" parent="." unique_id=1215451743]
title = "Campos Incompletos"
dialog_text = "Por favor, complete todos los campos obligatorios (*)."

[node name="ConfirmacionEstado" type="AcceptDialog" parent="." unique_id=1950712533]
title = "Confirmación de Estado"
dialog_text = "La incidencia no requiere investigación. Se registrará en estado CERRADO."
dialog_hide_on_ok = false

[node name="ConfirmacionVBox" type="VBoxContainer" parent="ConfirmacionEstado" unique_id=2022510260]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 20.0
offset_top = 50.0
offset_right = -20.0
offset_bottom = -60.0

[node name="LabelConfirmacion" type="Label" parent="ConfirmacionEstado/ConfirmacionVBox" unique_id=1257731844]
custom_minimum_size = Vector2(300, 50)
layout_mode = 2
text = "¿Desea continuar con el registro en estado CERRADO?"
horizontal_alignment = 1
autowrap_mode = 3

[node name="BotonesConfirmacion" type="HBoxContainer" parent="ConfirmacionEstado/ConfirmacionVBox" unique_id=1131841696]
layout_mode = 2
alignment = 1

[node name="BtnConfirmarSi" type="Button" parent="ConfirmacionEstado/ConfirmacionVBox/BotonesConfirmacion" unique_id=610453705]
layout_mode = 2
text = "Sí, registrar"

[node name="BtnConfirmarNo" type="Button" parent="ConfirmacionEstado/ConfirmacionVBox/BotonesConfirmacion" unique_id=417310121]
layout_mode = 2
text = "No, modificar"
